<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html"/>
<link rel="import" href="../iron-list/iron-list.html"/>
<link rel="import" href="cosmoz-grouped-list-template.html">
<link rel="import" href="cosmoz-grouped-list-template-selector.html">

<!--
`<cosmoz-grouped-list>` is an example implementation of grouping for iron-list
with features like group count display and folding

### Usage

    <cosmoz-grouped-list data="{{ data }}"></cosmoz-grouped-list>

@group Cosmoz Elements
@element cosmoz-grouped-list
@demo demo/index.html
-->

<dom-module id="cosmoz-grouped-list">
	<template>
		<style>
			:host {
				display: block;
				position: relative;
				@apply --layout-vertical;
			}

			:host(:not(.has-scroll-target)) #list {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
			}

			:host(.has-scroll-target) #list {
				flex: 1;
			}

			#reusableTemplates {
				display: none !important;
			}

		</style>

		<iron-list id="list" items="[[_flatData]]" as="item">
			<template>
				<cosmoz-grouped-list-template-selector
						item="[[item]]"
						on-template-selector-created="_onTemplateSelectorCreated"
						on-template-selector-item-changed="_onTemplateSelectorItemChanged">
					<slot name="tempSlotName"></slot>
				</cosmoz-grouped-list-template-selector>
			</template>
		</iron-list>
		<div id="reusableTemplates">
			<slot name="reusableTemplate"></slot>
		</div>
	</template>
</dom-module>

<script type="text/javascript" src="cosmoz-grouped-list.js"></script>

